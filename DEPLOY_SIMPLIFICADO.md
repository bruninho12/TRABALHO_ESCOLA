# üöÄ Guia de Deploy Simplificado (Resolu√ß√£o CORS)

## 1Ô∏è‚É£ Resumo do Problema

Voc√™ estava enfrentando dois problemas:

- **Erro de CORS**: O frontend no Vercel n√£o conseguia se comunicar com o backend.
- **Erro 500**: O backend no Vercel estava falhando com FUNCTION_INVOCATION_FAILED.

## 2Ô∏è‚É£ Solu√ß√µes Aplicadas

### Para o Backend:

- ‚úÖ Criamos um novo arquivo `api.js` otimizado para serverless
- ‚úÖ Configura√ß√£o CORS simplificada (`origin: '*'` para permitir todas as origens)
- ‚úÖ Dados em mem√≥ria (sem uso de sistema de arquivos)
- ‚úÖ Arquivo `vercel.json` configurado para serverless

### Para o Frontend:

- ‚úÖ URL de API atualizada para apontar para o novo deploy
- ‚úÖ Headers CORS corrigidos nas requisi√ß√µes fetch
- ‚úÖ Configura√ß√£o `mode: "cors"` em todas as solicita√ß√µes

## 3Ô∏è‚É£ Como Fazer o Deploy Correto

### M√©todo Manual:

#### 1. Deploy do Backend:

```bash
cd backend
vercel --prod
# Quando perguntado, escolha o nome: trabalho-escola-api
```

#### 2. Deploy do Frontend:

```bash
cd frontend
# Importante: ap√≥s o deploy do backend, edite o app.js para usar o URL correto
vercel --prod
# Quando perguntado, escolha o nome: trabalho-escola-frontend
```

### M√©todo Autom√°tico:

```bash
# Execute o script de deploy
DEPLOY.bat
```

## 4Ô∏è‚É£ URLs Ap√≥s Deploy

- Frontend: https://trabalho-escola-frontend.vercel.app
- Backend: https://trabalho-escola-api.vercel.app

## 5Ô∏è‚É£ Teste o Sistema

Utilize os seguintes dados de teste:

- Email: bruno@teste.com / Senha: 123456
- Email: maria@teste.com / Senha: 123456

## 6Ô∏è‚É£ Verifica√ß√£o Final

### Checklist para garantir que est√° funcionando:

- [ ] A API est√° respondendo em https://trabalho-escola-api.vercel.app
- [ ] O frontend carrega corretamente
- [ ] √â poss√≠vel fazer login com os usu√°rios de teste
- [ ] √â poss√≠vel criar novas transa√ß√µes
- [ ] A exporta√ß√£o de dados funciona

### Solu√ß√£o de Problemas:

Se persistirem erros de CORS, verifique:

1. O Console do navegador para identificar a origem exata
2. Se o URL da API no frontend est√° correto
3. Se o `vercel.json` foi corretamente carregado

**Observa√ß√£o:** A permiss√£o de CORS para todas as origens (`*`) √© uma medida tempor√°ria para resolver o problema imediatamente. Para produ√ß√£o real, √© recomend√°vel limitar √†s origens espec√≠ficas.
