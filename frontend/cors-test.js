/**
 * Fun√ß√£o para testar a conex√£o com a API
 * Use essa fun√ß√£o para verificar se a API est√° respondendo corretamente
 * e se os cabe√ßalhos CORS est√£o configurados corretamente
 */
async function testeCORS() {
  try {
    const start = performance.now();

    // Teste com diferentes URLs
    const urls = [
      "https://trabalho-escola-api.vercel.app/cors-test",
      api + "/cors-test",
      api,
    ];

    for (const url of urls) {
      console.log(`üîç Testando conex√£o com: ${url}`);

      const response = await fetch(url, {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
          Accept: "application/json",
        },
        mode: "cors",
        credentials: "omit",
      });

      const data = await response.json();
      console.log(`‚úÖ Resposta de ${url}:`, data);
      console.log(`üìã Headers recebidos:`, {
        "access-control-allow-origin": response.headers.get(
          "access-control-allow-origin"
        ),
        "content-type": response.headers.get("content-type"),
      });
    }

    const end = performance.now();
    console.log(`‚è±Ô∏è Teste CORS completado em ${(end - start).toFixed(2)}ms`);
    return true;
  } catch (error) {
    console.error("‚ùå Erro no teste CORS:", error);
    return false;
  }
}
